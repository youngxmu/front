<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="format-detection" content="email=no" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0" />
    <title>湖南省干部教育培训网络学院</title>
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <!--<script type="text/javascript" src="jPlayer-2.9.2/dist/jplayer/jquery.jplayer.min.js"></script>
    <script type="text/javascript" src="jPlayer-2.9.2/dist/add-on/jplayer.playlist.min.js"></script>-->
    <!--<script src="PreloadJS-master/lib/preloadjs.min.js"></script>
    <script src="SoundJS-master/lib/soundjs.min.js"></script>-->
    <script src="js/soundplayer.js"></script>
    <link type="text/css" href="css/bootstrap.min.css" rel="stylesheet" />
    <link type="text/css" href="css/font-awesome.min.css" rel="stylesheet" />
    <link type="text/css" href="css/owl.carousel.min.css" rel="stylesheet" />
    <link type="text/css" href="css/common.css" rel="stylesheet" />
    <link type="text/css" href="css/web.css" rel="stylesheet" />
    <script>
        $(function () {
            var owl = $("#study_content_box").owlCarousel({
                items: 1,
                loop: true,
                autoplay: true,
                autoplayTimeout: 3000,
                autoplayHoverPause: true,
                transitionStyle: "fade",
                dots: true,

            }).on('changed.owl.carousel', function (event) {
                var page = event.page.index;
                $(".pub-swich-items .item").removeClass("selected");
                $(".pub-swich-items .item:eq(" + page + ")").addClass("selected");
            });
            $(".pub-swich-items .item").click(function () {
                var index = $(this).index();
                owl.trigger('to.owl.carousel', index);
            });
            var soundPlayer = new SoundPlayer({
                loop: false,
                autoplay: false,
                dataList: manifest,
                playHandler: function (data) {
                    $("#sound-title").html("正在学习：" + data.singer + " - " + data.title);
                    $("#sound-singer").html("主讲：" + data.singer);
                },
                playingHandler: function (currentTime) {
                    $("#sound-time").html(currentTime);
                }
            });
            $("#sound-play").click(function () {
                // createjs.Sound.registerSounds(manifest, assetsPath);
                //Sound.playHandler();
                if (!soundPlayer.isPlay) {
                    soundPlayer.play(function () {
                        var str = soundPlayer.backTime() + " / " + soundPlayer.backTotTime();
                        console.log(str);
                        $("#sound-time").html(str);
                        $("#curProgress").css("width", soundPlayer.calProcess() + "%");
                    });
                    $(this).children("i").removeClass("fa-play").addClass("fa-pause");
                }
                else {
                    soundPlayer.pause();
                    $(this).children("i").removeClass("fa-pause").addClass("fa-play");
                }
            });
            $("#sound-next").click(function () {
                soundPlayer.next();
            });
            $("#sound-prev").click(function () {
                soundPlayer.prev();
            });
        })
        //var soundid = 1;
        var assetsPath = "/audio/";
        var manifest = [{
            id: '-1',
            singer: "庄心妍",
            title: "一万个舍不得111",
            src: assetsPath + '111.mp3'
        }, {
            id: '0',
            singer: "庄心妍",
            title: "一万个舍不得",
            src: assetsPath + 'ywgsbd.m4a'
        }, {
            id: '1',
            singer: "岑宁儿",
            title: "追光者",
            src: assetsPath + 'zgz.mp3'
        }, {
            id: '3',
            singer: "周杰伦",
            title: "告白气球",
            src: assetsPath + '107192078.m4a'
        }, {
            id: '4',
            singer: "水木年华",
            title: "一生有你",
            src: assetsPath + '95484.m4a'
        },]
        //var src = "taoyan.mp3";

        //var loader = new createjs.LoadQueue(false);
        //loader.installPlugin(createjs.Sound);
        //loader.addEventListener("fileload", function () {
        //    console.log("end");
        //    //createjs.Sound.registerSound(manifest, "sound");//鍗曟枃浠跺姞杞藉畬鎴�
        //    btn.toggle(function () {

        //        //Sound.playHandler(manifest);
        //        music_player = new Player($('#btn_play_music'), "h5-demo-master/audio/107192078.m4a");
        //    });
        //});
        //loader.addEventListener("complete", loadComplete);
        //loader.addEventListener("fileload", fileComplete);
        //loader.addEventListener("error", handleFileError);
        //loader.addEventListener("fileprogress", handleFileProgress);
        //loader.addEventListener("progress", handleProgress);
        //loader.on("complete", function () {

            //createjs.Sound.play("h5-demo-master/audio/107192078.m4a");
            //music_player = new Player($('#btn_play_music'), "h5-demo-master/audio/107192078.m4a");
            //createjs.Sound.registerSound(manifest, "sound");
            //btn.click(function () {
            //    //Sound.playHandler();
            //    $(this).children("i").removeClass("fa-play").addClass("fa-pause");
            //    //createjs.Sound.play("h5-demo-master/audio/107192078.m4a");
            //    //var audio = document.getElementById('audio-player');
            //    //audio.play();
            //    //music_player = new Player($('#btn_play_music'), "h5-demo-master/audio/107192078.m4a");
            //}, function () {
            //    //Sound.playHandler();
            //    $(this).children("i").removeClass("fa-pause").addClass("fa-play");

            //});
            //var btn = $("#sound-play");
            //btn.click(function () {
            //    // createjs.Sound.registerSounds(manifest, assetsPath);
            //    //Sound.playHandler();
            //    music_player = new Player($('#btn_play_music'), "h5-demo-master/audio/107192078.m4a");
            //});
            //$("#sound-next").click(function () {
            //    Sound.next();
            //});
            //$("#sound-prev").click(function () {
            //    Sound.prev();
            //});

        //}, this);


        //loader.addEventListener("fileprogress", function (event) {
        //    console.log("loaded", event.loaded, "progress", event.progress);//鍔犺浇杩涘害
        //});
        //loader.setMaxConnections(5);
        //loader.maintainScriptOrder = true;
        //loader.loadManifest(manifest);

        //var Sound = {}
        //Sound.playHandler = function (src) {
        //    if (Sound.curSound) {
        //        if (!Sound.curSound.paused) {
        //            Sound.pauseHandler();
        //            $("#sound-play").children("i").removeClass("fa-pause").addClass("fa-play");
        //        }
        //        else {
        //            Sound.resumeHandler();
        //            $("#sound-play").children("i").removeClass("fa-play").addClass("fa-pause");
        //        }
        //        return;
        //    }
        //    Sound.curSound = createjs.Sound.play(soundid); //createjs.Sound.play(src, createjs.Sound.INTERRUPT_LATE, 0, 0, -1);
        //    $("#sound-play").children("i").removeClass("fa-play").addClass("fa-pause");
        //}
        //Sound.pauseHandler = function () {
        //    Sound.curSound.paused = true;
        //}
        //Sound.resumeHandler = function () {
        //    Sound.curSound.paused = false;
        //}
        //Sound.next = function () {
        //    soundid++;
        //    alert(soundid);
        //    Sound.curSound = createjs.Sound.play(soundid);
        //}
        //Sound.prev = function () {
        //    soundid--;
        //    alert(soundid);
        //    Sound.curSound = createjs.Sound.play(soundid);
        //}

        //function handleFileError(evt) {
        //    console.log("error ", evt);
        //    // An error occurred.
        //}

        //function handleFileProgress(evt) {
        //    // Progress happened.
        //    console.log("Event File Loading: " + (loader.progress.toFixed(2) * 100) + "%");
        //}

        //function handleProgress(evt) {
        //    // Progress happened.
        //    console.log("Event Loading: " + (loader.progress.toFixed(2) * 100) + "%");
        //}
        
        
    </script>
</head>
<body>
    <!--<audio id="audio-player" style="width: 100%" src="h5-demo-master/audio/107192078.m4a" controls></audio>-->
    <div class="header"><img src="images/i001.jpg" /></div>
    <div class="study-area" id="jquery_jplayer_2">
        <h5 id="sound-title">正在学习：领导干部要做践行“三严三实”的模范</h5>
        <div class="study-progress">
            <span class="i leftI"></span><span class="line"><span id="curProgress" class="curProgress" style="width:0%"><i class="bar"></i></span></span><span class="i"></span>

        </div>
        <div class="study-btns-area container" id="jp_container_2">
            <div class="row">
                <div class="col-1"><a class="btn-playlist"><img src="images/icon001.jpg" /><p>播放列表</p></a></div>
                <div class="col-2"><a id="sound-prev" class="btn-prev" href="javascript:void(0)"><i class="fa fa-step-backward" aria-hidden="true"></i></a></div>
                <div class="col-3"><a id="sound-play" class="btn-play" href="javascript:void(0)"><i class="fa fa-play fa-fw fa-align-center"></i></a></div>
                <div class="col-4"><a id="sound-next" class="btn-next" href="javascript:void(0)"><i class="fa fa-step-forward" aria-hidden="true"></i></a></div>
                <div class="col-5"><a class="btn-clock"><img src="images/icon002.jpg" /><p>定时关闭</p></a></div>

            </div>
        </div>
        <div class="study-info"><span class="s-box s-icon-zj" id="sound-singer">主讲：胡黎</span><span id="sound-time" class="s-box s-icon-sj marginLeft10">时长：1小时30分钟</span></div>
    </div>
    <div class="borderLine"></div>
    <div class="pub-box">
        <div class="title-box">
            <div class="title left"><a href="studytasklist">学习任务</a></div>
            <div class="pub-swich-items right">
                <div class="item selected">1</div>
                <div class="item">2</div>
                <div class="item">3</div>
                <div class="item">4</div>
            </div>
        </div>
        <div id="study_content_box" class="content-box owl-carousel owl-theme" data-ride="carousel">
            <div class="item">
                <div class="pic-thumb"><img src="images/i003.jpg" /></div>
                <div class="c-box">
                    <h3>1湖北最冷的时候到了! 武汉要下8天雪是真的吗</h3>
                    <div class="desc">湖北最冷的时候到了! 武汉要下8天雪是真的吗？湖北最冷的时候到了! 武汉要下8天雪是真的吗？</div>
                    <div class="otherInfo"><span class="s-box s-icon-zj">主讲：胡黎</span><span class="s-box s-icon-sj marginLeft10">时长：1小时30分钟</span></div>
                </div>
            </div>
            <div class="item">
                <div class="pic-thumb"><img src="images/i003.jpg" /></div>
                <div class="c-box">
                    <h3>2湖北最冷的时候到了! 武汉要下8天雪是真的吗</h3>
                    <div class="desc">湖北最冷的时候到了! 武汉要下8天雪是真的吗？湖北最冷的时候到了! 武汉要下8天雪是真的吗？</div>
                    <div class="otherInfo"><span class="s-box s-icon-zj">主讲：胡黎</span><span class="s-box s-icon-sj marginLeft10">时长：1小时30分钟</span></div>
                </div>
            </div>
            <div class="item">
                <div class="pic-thumb"><img src="images/i003.jpg" /></div>
                <div class="c-box">
                    <h3>3湖北最冷的时候到了! 武汉要下8天雪是真的吗</h3>
                    <div class="desc">湖北最冷的时候到了! 武汉要下8天雪是真的吗？湖北最冷的时候到了! 武汉要下8天雪是真的吗？</div>
                    <div class="otherInfo"><span class="s-box s-icon-zj">主讲：胡黎</span><span class="s-box s-icon-sj marginLeft10">时长：1小时30分钟</span></div>
                </div>
            </div>
            <div class="item">
                <div class="pic-thumb"><img src="images/i003.jpg" /></div>
                <div class="c-box">
                    <h3>4湖北最冷的时候到了! 武汉要下8天雪是真的吗</h3>
                    <div class="desc">湖北最冷的时候到了! 武汉要下8天雪是真的吗？湖北最冷的时候到了! 武汉要下8天雪是真的吗？</div>
                    <div class="otherInfo"><span class="s-box s-icon-zj">主讲：胡黎</span><span class="s-box s-icon-sj marginLeft10">时长：1小时30分钟</span></div>
                </div>
            </div>
        </div>
    </div>
    <div class="borderLine"></div>
    <div class="pub-box">
        <div class="title-box">
            <div class="title left"><a href="studylist">推荐课程</a></div>
            <div class="pub-swich-items right"><a href="studylist">更多&nbsp;&gt;</a></div>
        </div>
        <div class="content-box">
            <div class="item">
                <div class="pic-thumb"><img src="images/i003.jpg" /></div>
                <div class="c-box">
                    <h3>湖北最冷的时候到了! 武汉要下8天雪是真的吗</h3>
                    <div class="desc">湖北最冷的时候到了! 武汉要下8天雪是真的吗？湖北最冷的时候到了! 武汉要下8天雪是真的吗？</div>
                    <div class="otherInfo"><span class="s-box s-icon-zj">主讲：胡黎</span><span class="s-box s-icon-sj marginLeft10">时长：1小时30分钟</span></div>
                </div>
            </div>
        </div>
    </div>
    <div class="borderLine"></div>
    <div class="icons-area">
        <div class="item">
            <button class="i1"><img src="images/ico_1.png" /></button>
            <p>调查</p>
        </div>
        <div class="item">
            <button class="i2"><img src="images/ico_2.png" /></button>
            <p>考试</p>
        </div>
        <div class="item">
            <button class="i3"><img src="images/ico_3.png" /></button>
            <p>直播</p>
        </div>
        <div class="item">
            <button class="i4"><img src="images/ico_4.png" /></button>
            <p>专家</p>
        </div>
    </div>
    <div class="height50"></div>
    <%- include common/footer.ejs %>
</body>
</html>